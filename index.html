<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>èŠ‚å¾‹å¥åº·æŒ‡æ•°Â·å…­ç»´è¯„åˆ†è¡¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 50%, #fecaca 100%);
            min-height: 100vh;
            padding-bottom: 20px;
        }

        .container {
            max-width: 640px;
            margin: 0 auto;
            padding: 12px;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 12px;
            overflow: hidden;
        }

        .card-header {
            padding: 12px 16px;
            font-weight: 600;
            font-size: 14px;
        }

        .card-body {
            padding: 16px;
        }

        .gradient-title {
            background: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
        }

        .gradient-eat {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        }

        .gradient-drink {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        }

        .gradient-poop {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
        }

        .gradient-pee {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
        }

        .gradient-sleep {
            background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
        }

        .gradient-mood {
            background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
        }

        .title {
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 6px;
            line-height: 1.4;
        }

        .subtitle {
            text-align: center;
            font-size: 11px;
            color: #64748b;
            margin-bottom: 4px;
            line-height: 1.5;
        }

        .score-display {
            background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            margin-bottom: 12px;
        }

        .total-score {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            font-size: 12px;
            color: #475569;
        }

        .score-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .score-value {
            font-weight: 700;
            font-size: 14px;
            color: #0f172a;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: #f8fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .radio-label:active {
            transform: scale(0.98);
        }

        .radio-label.selected {
            background: #eff6ff;
            border-color: #3b82f6;
        }

        .radio {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #f59e0b;
        }

        .option-text {
            flex: 1;
            font-size: 13px;
            color: #1e293b;
        }

        .option-score {
            font-weight: 700;
            font-size: 14px;
            color: #f59e0b;
        }

        .section-title {
            font-size: 13px;
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 8px;
        }

        .section-subtitle {
            font-size: 11px;
            color: #64748b;
            margin-bottom: 8px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }

        .textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 13px;
            font-family: inherit;
            min-height: 60px;
            resize: vertical;
        }

        .slider-group {
            background: #f8fafc;
            border-radius: 8px;
            padding: 12px;
        }

        .slider-row {
            display: grid;
            grid-template-columns: 80px 1fr 40px;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .slider-row:last-child {
            margin-bottom: 0;
        }

        .slider-label {
            font-size: 12px;
            color: #475569;
        }

        .slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e2e8f0;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #f59e0b;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider-value {
            font-size: 14px;
            font-weight: 700;
            text-align: center;
            color: #f59e0b;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            background: #f8fafc;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 6px;
        }

        .checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #f59e0b;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
            color: white;
        }

        .btn-outline {
            background: white;
            color: #475569;
            border: 1px solid #cbd5e1;
        }

        .btn-ghost {
            background: transparent;
            color: #dc2626;
            border: 1px solid #fecaca;
        }

        .info-box {
            background: #fef3c7;
            border-radius: 8px;
            padding: 12px;
            font-size: 11px;
            line-height: 1.6;
            color: #78350f;
            margin-bottom: 12px;
        }

        .info-box strong {
            font-weight: 600;
        }

        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 12px 0;
        }

        .date-input {
            font-size: 13px;
            padding: 8px 12px;
        }

        footer {
            text-align: center;
            padding: 16px;
            font-size: 11px;
            color: #64748b;
        }

        .hidden {
            display: none;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge-excellent {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-good {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-fair {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-poor {
            background: #fecaca;
            color: #991b1b;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ ‡é¢˜ -->
        <div class="card">
            <div class="card-body text-center">
                <h1 class="title">èŠ‚å¾‹å¥åº·æŒ‡æ•°<br>å…­ç»´è¯„åˆ†è¡¨</h1>
                <p class="subtitle">100åˆ†åˆ¶ v2.0 | åƒå–æ‹‰æ’’ç¡æƒ…</p>
                <p class="subtitle">LynnèˆŒè±¡Â·èŠ‚å¾‹å¥åº·å‘èµ·äººå‡ºå“</p>
            </div>
        </div>

        <!-- å·¥å…·åˆ‡æ¢æç¤º -->
        <div class="card" style="background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border: 2px solid #3b82f6;">
            <div class="card-body" style="text-align: center; padding: 12px;">
                <p style="font-size: 12px; color: #1e40af; margin-bottom: 8px; font-weight: 600;">
                    ğŸ’¡ é…å¥—å·¥å…·ï¼šæ—©æ™¨å·²ç»å¡«å†™æ‰“å¡è¡¨äº†å—ï¼Ÿ
                </p>
                <a href="https://lynnzhang-cpu.github.io/Tongue-Rhythm--checkin-form/?v=2025-10-27" 
                   style="display: inline-block; padding: 8px 20px; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; border-radius: 20px; text-decoration: none; font-size: 13px; font-weight: 500;">
                    ğŸ“¸ å»å¡«æ™¨é—´æ‰“å¡è¡¨ â†’
                </a>
            </div>
        </div>

        <!-- æ“ä½œæŒ‰é’® -->
        <div class="btn-group">
            <button class="btn btn-primary" onclick="exportData()">ğŸ“¥ å¯¼å‡º</button>
            <button class="btn btn-outline" onclick="importData()">ğŸ“¤ å¯¼å…¥</button>
            <button class="btn btn-ghost" onclick="resetData()">ğŸ”„ é‡ç½®</button>
        </div>

        <!-- æ€»åˆ†æ˜¾ç¤º -->
        <div class="score-display">
            <div class="total-score" id="totalScore">0</div>
            <div style="font-size: 12px; color: #78350f; margin-bottom: 12px;">
                <span id="scoreBadge"></span>
            </div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>ğŸš åƒ</span>
                    <span class="score-value" id="eatScore">0</span>
                    <span>/15</span>
                </div>
                <div class="score-item">
                    <span>ğŸ’§ å–</span>
                    <span class="score-value" id="drinkScore">0</span>
                    <span>/10</span>
                </div>
                <div class="score-item">
                    <span>ğŸ’© æ‹‰</span>
                    <span class="score-value" id="poopScore">0</span>
                    <span>/15</span>
                </div>
                <div class="score-item">
                    <span>ğŸš½ æ’’</span>
                    <span class="score-value" id="peeScore">0</span>
                    <span>/10</span>
                </div>
                <div class="score-item">
                    <span>ğŸ˜´ ç¡</span>
                    <span class="score-value" id="sleepScore">0</span>
                    <span>/30</span>
                </div>
                <div class="score-item">
                    <span>ğŸ’— æƒ…</span>
                    <span class="score-value" id="moodScore">0</span>
                    <span>/20</span>
                </div>
            </div>
        </div>

        <!-- æ—¥æœŸ -->
        <div class="card">
            <div class="card-body">
                <input type="date" class="input date-input" id="recordDate" onchange="saveData()">
            </div>
        </div>

        <!-- 1. åƒï¼ˆ15åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-eat">ğŸš åƒï¼ˆ15åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">é£Ÿæ¬²</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('eat_appetite', 5)">
                            <input type="radio" name="eat_appetite" value="5" class="radio">
                            <span class="option-text">æ­£å¸¸æˆ–ç•¥æ—º</span>
                            <span class="option-score">5åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_appetite', 2)">
                            <input type="radio" name="eat_appetite" value="2" class="radio">
                            <span class="option-text">åä½</span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_appetite', 0)">
                            <input type="radio" name="eat_appetite" value="0" class="radio">
                            <span class="option-text">æ— é£Ÿæ¬²</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">é¥®é£Ÿæ¸©åº¦åå¥½</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('eat_temp', 5)">
                            <input type="radio" name="eat_temp" value="5" class="radio">
                            <span class="option-text">ä»¥æ¸©çƒ­ä¸ºä¸»æˆ–å°‘å†°å†·</span>
                            <span class="option-score">5åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_temp', 3)">
                            <input type="radio" name="eat_temp" value="3" class="radio">
                            <span class="option-text">å†·çƒ­å‚åŠ</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_temp', 0)">
                            <input type="radio" name="eat_temp" value="0" class="radio">
                            <span class="option-text">åå¥½å†°å†·</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">é¤åèˆ’é€‚åº¦ï¼ˆè…¹èƒ€/å—³æ°”/åé…¸ï¼‰</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('eat_comfort', 5)">
                            <input type="radio" name="eat_comfort" value="5" class="radio">
                            <span class="option-text">æ— ä¸é€‚</span>
                            <span class="option-score">5åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_comfort', 3)">
                            <input type="radio" name="eat_comfort" value="3" class="radio">
                            <span class="option-text">å¶å‘è½»åº¦</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('eat_comfort', 0)">
                            <input type="radio" name="eat_comfort" value="0" class="radio">
                            <span class="option-text">é¢‘å‘æˆ–æ˜æ˜¾</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" class="checkbox" id="eat_bonus" onchange="calculateScore()">
                        <span style="flex: 1; font-size: 12px;">åŠ åˆ†ï¼šæ™šé¤ä¸ƒåˆ†é¥±ä¸”ç¡å‰3å°æ—¶ä¸è¿›é£Ÿ (+2åˆ†)</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- 2. å–ï¼ˆ10åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-drink">ğŸ’§ å–ï¼ˆ10åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">å½“æ—¥é¥®æ°´é‡</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('drink_amount', 5)">
                            <input type="radio" name="drink_amount" value="5" class="radio">
                            <span class="option-text">â‰¥1000ml</span>
                            <span class="option-score">5åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('drink_amount', 3)">
                            <input type="radio" name="drink_amount" value="3" class="radio">
                            <span class="option-text">500-1000ml</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('drink_amount', 0)">
                            <input type="radio" name="drink_amount" value="0" class="radio">
                            <span class="option-text">&lt;500ml</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">é¥®å“é€‰æ‹©</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('drink_type', 5)">
                            <input type="radio" name="drink_type" value="5" class="radio">
                            <span class="option-text">æ¸©æ°´/å¸¸æ¸©ä¸ºä¸»</span>
                            <span class="option-score">5åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('drink_type', 2)">
                            <input type="radio" name="drink_type" value="2" class="radio">
                            <span class="option-text">å†·çƒ­äº¤æ›¿æˆ–å«ç³–é¥®å¤š</span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('drink_type', 0)">
                            <input type="radio" name="drink_type" value="0" class="radio">
                            <span class="option-text">å†°é¥®ä¸ºä¸»</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. æ‹‰ï¼ˆ15åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-poop">ğŸ’© æ‹‰Â·å¤§ä¾¿ï¼ˆ15åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">é¢‘æ¬¡</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('poop_freq', 6)">
                            <input type="radio" name="poop_freq" value="6" class="radio">
                            <span class="option-text">æ¯æ—¥æˆ–éš”æ—¥ä¸€æ¬¡</span>
                            <span class="option-score">6åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('poop_freq', 2)">
                            <input type="radio" name="poop_freq" value="2" class="radio">
                            <span class="option-text">2æ—¥ä»¥ä¸Šæœªè§£</span>
                            <span class="option-score">0-2åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">æ€§çŠ¶</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('poop_shape', 6)">
                            <input type="radio" name="poop_shape" value="6" class="radio">
                            <span class="option-text">æˆå½¢ã€è‰²é»„è¤</span>
                            <span class="option-score">6åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('poop_shape', 2)">
                            <input type="radio" name="poop_shape" value="2" class="radio">
                            <span class="option-text">ç¨€æº/ä¸æˆå½¢</span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('poop_shape', 2)">
                            <input type="radio" name="poop_shape" value="2" class="radio">
                            <span class="option-text">è¿‡å¹²ç¡¬</span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">ä¾¿åæ„Ÿ</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('poop_feel', 3)">
                            <input type="radio" name="poop_feel" value="3" class="radio">
                            <span class="option-text">è½»æ¾ã€æ— ç²˜è…»</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('poop_feel', 1)">
                            <input type="radio" name="poop_feel" value="1" class="radio">
                            <span class="option-text">å¶æœ‰ä¸å°½æ„Ÿ</span>
                            <span class="option-score">1åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('poop_feel', 0)">
                            <input type="radio" name="poop_feel" value="0" class="radio">
                            <span class="option-text">æ˜æ˜¾ä¸å°½/ä¾¿åçº¸ä¸Šç²˜è…»</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. æ’’ï¼ˆ10åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-pee">ğŸš½ æ’’Â·å°ä¾¿ï¼ˆ10åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">å¤œå°¿</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('pee_night', 4)">
                            <input type="radio" name="pee_night" value="4" class="radio">
                            <span class="option-text">0-1æ¬¡</span>
                            <span class="option-score">4åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('pee_night', 1)">
                            <input type="radio" name="pee_night" value="1" class="radio">
                            <span class="option-text">â‰¥2æ¬¡</span>
                            <span class="option-score">1åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">é¢œè‰²/æ¸…æ¾ˆåº¦</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('pee_color', 4)">
                            <input type="radio" name="pee_color" value="4" class="radio">
                            <span class="option-text">æ·¡é»„æ¸…æ¾ˆ</span>
                            <span class="option-score">4åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('pee_color', 1)">
                            <input type="radio" name="pee_color" value="1" class="radio">
                            <span class="option-text">åé»„/æ··æµŠ</span>
                            <span class="option-score">1åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">åˆºæ¿€æ„Ÿ/å¼‚å‘³</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('pee_feel', 2)">
                            <input type="radio" name="pee_feel" value="2" class="radio">
                            <span class="option-text">æ— </span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('pee_feel', 0)">
                            <input type="radio" name="pee_feel" value="0" class="radio">
                            <span class="option-text">æœ‰</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. ç¡ï¼ˆ30åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-sleep">ğŸ˜´ ç¡ï¼ˆ30åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">å…¥ç¡æ—¶ç‚¹</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('sleep_time', 10)">
                            <input type="radio" name="sleep_time" value="10" class="radio">
                            <span class="option-text">â‰¤23:00</span>
                            <span class="option-score">10åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_time', 6)">
                            <input type="radio" name="sleep_time" value="6" class="radio">
                            <span class="option-text">23:01-23:30</span>
                            <span class="option-score">6åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_time', 4)">
                            <input type="radio" name="sleep_time" value="4" class="radio">
                            <span class="option-text">23:31-24:00</span>
                            <span class="option-score">4åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_time', 0)">
                            <input type="radio" name="sleep_time" value="0" class="radio">
                            <span class="option-text">&gt;24:00</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">æ€»æ—¶é•¿</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('sleep_duration', 6)">
                            <input type="radio" name="sleep_duration" value="6" class="radio">
                            <span class="option-text">â‰¥7å°æ—¶</span>
                            <span class="option-score">6åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_duration', 3)">
                            <input type="radio" name="sleep_duration" value="3" class="radio">
                            <span class="option-text">6-6.9å°æ—¶</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_duration', 0)">
                            <input type="radio" name="sleep_duration" value="0" class="radio">
                            <span class="option-text">&lt;6å°æ—¶</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">å…¥ç¡éš¾æ˜“/ä¸­é€”è§‰</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('sleep_quality', 6)">
                            <input type="radio" name="sleep_quality" value="6" class="radio">
                            <span class="option-text">æ˜“å…¥ç¡ä¸”å°‘ä¸­é€”è§‰</span>
                            <span class="option-score">6åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_quality', 3)">
                            <input type="radio" name="sleep_quality" value="3" class="radio">
                            <span class="option-text">å…¥ç¡&gt;30minæˆ–å¤šæ¢¦æ˜“é†’</span>
                            <span class="option-score">3åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_quality', 0)">
                            <input type="radio" name="sleep_quality" value="0" class="radio">
                            <span class="option-text">é¢‘ç¹è§‰é†’</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">é†’åæ„Ÿ</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('sleep_wake', 4)">
                            <input type="radio" name="sleep_wake" value="4" class="radio">
                            <span class="option-text">é†’åç²¾ç¥</span>
                            <span class="option-score">4åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_wake', 2)">
                            <input type="radio" name="sleep_wake" value="2" class="radio">
                            <span class="option-text">ä¸€èˆ¬</span>
                            <span class="option-score">2åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_wake', 0)">
                            <input type="radio" name="sleep_wake" value="0" class="radio">
                            <span class="option-text">ç–²æƒ«</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <div class="section-title">åˆé—´ä¿®å¤</div>
                    <div class="radio-group">
                        <label class="radio-label" onclick="selectRadio('sleep_noon', 4)">
                            <input type="radio" name="sleep_noon" value="4" class="radio">
                            <span class="option-text">é—­ç›®10-20minæˆ–æ•£æ­¥10min</span>
                            <span class="option-score">4åˆ†</span>
                        </label>
                        <label class="radio-label" onclick="selectRadio('sleep_noon', 0)">
                            <input type="radio" name="sleep_noon" value="0" class="radio">
                            <span class="option-text">æœªå®Œæˆ</span>
                            <span class="option-score">0åˆ†</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. æƒ…ï¼ˆ20åˆ†ï¼‰ -->
        <div class="card">
            <div class="card-header gradient-mood">ğŸ’— æƒ…Â·æƒ…ç»ªä½“æ„Ÿï¼ˆ20åˆ†ï¼‰</div>
            <div class="card-body">
                <div class="section-subtitle">è¿‡å»24å°æ—¶å¹³å‡æ„Ÿå—</div>
                <div class="slider-group">
                    <div class="slider-row">
                        <span class="slider-label">æƒ…ç»ªå¹³ç¨³</span>
                        <input type="range" class="slider" min="0" max="10" value="5" id="mood_stable" oninput="updateMoodSlider('mood_stable', this.value)" onchange="calculateScore()">
                        <span class="slider-value" id="mood_stable_val">5</span>
                    </div>
                    <div class="slider-row">
                        <span class="slider-label">ç²¾åŠ›å……æ²›</span>
                        <input type="range" class="slider" min="0" max="5" value="2" id="mood_energy" oninput="updateMoodSlider('mood_energy', this.value)" onchange="calculateScore()">
                        <span class="slider-value" id="mood_energy_val">2</span>
                    </div>
                    <div class="slider-row">
                        <span class="slider-label">æ¶ˆåŒ–èˆ’é€‚</span>
                        <input type="range" class="slider" min="0" max="5" value="2" id="mood_digest" oninput="updateMoodSlider('mood_digest', this.value)" onchange="calculateScore()">
                        <span class="slider-value" id="mood_digest_val">2</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- åŠ å‡åˆ† -->
        <div class="card">
            <div class="card-header" style="background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);">
                â­ åŠ /å‡åˆ†ï¼ˆå¯é€‰ï¼ŒÂ±5ï¼‰
            </div>
            <div class="card-body">
                <label class="checkbox-label">
                    <input type="checkbox" class="checkbox" id="bonus_morning" onchange="calculateScore()">
                    <span style="flex: 1; font-size: 12px;">æ™¨å…‰ â‰¥10åˆ†é’Ÿ (+2åˆ†)</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" class="checkbox" id="bonus_night" onchange="calculateScore()">
                    <span style="flex: 1; font-size: 12px;">å¤œé—´æ”¶å°¾ï¼ˆç¡å‰45minæ”¾å±+çƒ­è¶³/è½»æ‹‰ä¼¸ï¼‰(+2åˆ†)</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" class="checkbox" id="penalty_food" onchange="calculateScore()">
                    <span style="flex: 1; font-size: 12px;">å¤œå®µ/é‡æ²¹è¾›è¾£/æš´é¥®æš´é£Ÿ (-2åˆ†)</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" class="checkbox" id="penalty_caffeine" onchange="calculateScore()">
                    <span style="flex: 1; font-size: 12px;">è¿‡é‡å’–å•¡å› /èƒ½é‡é¥®æ–™ï¼ˆä¸‹åˆåï¼‰(-1åˆ†)</span>
                </label>
            </div>
        </div>

        <!-- å½“æ—¥æ‰“å¡æ  -->
        <div class="card">
            <div class="card-header" style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);">
                ğŸ“ å½“æ—¥æ‰“å¡è®°å½•
            </div>
            <div class="card-body">
                <div class="form-group">
                    <div class="section-title">å…³é”®è¡ŒåŠ¨ â†’ ä½“æ„Ÿ/èˆŒè±¡å˜åŒ–</div>
                    <textarea class="textarea" id="note_action" placeholder="ä¾‹å¦‚ï¼šä»Šå¤©åšæŒ23:00å‰å…¥ç¡ï¼Œæ—©ä¸ŠèˆŒè‹”æ˜æ˜¾å˜è–„..." onchange="saveData()"></textarea>
                </div>
                <div class="form-group">
                    <div class="section-title">æ˜æ—¥åšæŒ1ä»¶äº‹</div>
                    <input type="text" class="input" id="note_tomorrow" placeholder="ä¾‹å¦‚ï¼šç»§ç»­æ™šé¤ä¸ƒåˆ†é¥±" onchange="saveData()">
                </div>
            </div>
        </div>

        <!-- è¯´æ˜ -->
        <div class="info-box">
            <p><strong>ğŸ’¡ ä½¿ç”¨è¯´æ˜ï¼š</strong></p>
            <p>â€¢ æœ¬è¡¨ç”¨äºç”Ÿæ´»æ–¹å¼ä¸å¥åº·æ•™è‚²ï¼Œä¸æ„æˆåŒ»ç–—è¯Šæ–­/å¤„æ–¹</p>
            <p>â€¢ å»ºè®®ä¸ã€Šä¸‰å¤©Â·æ™¨èˆŒèŠ‚å¾‹æ‰“å¡è¡¨ã€‹é…å¥—ä½¿ç”¨</p>
            <p>â€¢ æ¯æ—¥å¡«å†™ï¼Œè§‚å¯Ÿåˆ†æ•°ä¸ä½“æ„Ÿçš„å˜åŒ–è¶‹åŠ¿</p>
            <p>â€¢ æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜ï¼Œåˆ‡æ¢é¡µé¢åå›æ¥æ•°æ®ä»åœ¨</p>
            <p>â€¢ å¯éšæ—¶å¯¼å‡ºæ•°æ®å¤‡ä»½ï¼Œé‡ç½®æ•°æ®ä¼šæ¸…é™¤è‡ªåŠ¨ä¿å­˜</p>
        </div>

        <!-- é¡µè„š -->
        <footer>
            <p>ç‰ˆæœ¬ï¼šv2.0 | Ownerï¼šLynn | èŠ‚å¾‹æ–‡æ˜Â·å…¥é—¨ç‰ˆ</p>
            <p>é…å¥—ï¼šAIèˆŒè±¡å°ç¨‹åº / ä¸‰å¤©Â·æ™¨èˆŒèŠ‚å¾‹æ‰“å¡è¡¨</p>
        </footer>
    </div>

    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <script>
        // åˆå§‹åŒ–æ—¥æœŸ
        document.getElementById('recordDate').valueAsDate = new Date();

        // é€‰æ‹©å•é€‰æŒ‰é’®
        function selectRadio(name, value) {
            const radio = document.querySelector(`input[name="${name}"][value="${value}"]`);
            if (radio) {
                radio.checked = true;
                
                // æ›´æ–°æ ·å¼
                document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
                    r.closest('.radio-label').classList.remove('selected');
                });
                radio.closest('.radio-label').classList.add('selected');
                
                calculateScore();
                saveData();
            }
        }

        // æ›´æ–°æƒ…ç»ªæ»‘å—
        function updateMoodSlider(id, value) {
            document.getElementById(id + '_val').textContent = value;
        }

        // è®¡ç®—æ€»åˆ†
        function calculateScore() {
            let scores = {
                eat: 0,
                drink: 0,
                poop: 0,
                pee: 0,
                sleep: 0,
                mood: 0
            };

            // åƒï¼ˆ15åˆ†ï¼‰
            scores.eat += parseInt(document.querySelector('input[name="eat_appetite"]:checked')?.value || 0);
            scores.eat += parseInt(document.querySelector('input[name="eat_temp"]:checked')?.value || 0);
            scores.eat += parseInt(document.querySelector('input[name="eat_comfort"]:checked')?.value || 0);
            if (document.getElementById('eat_bonus').checked) {
                scores.eat = Math.min(scores.eat + 2, 15);
            }

            // å–ï¼ˆ10åˆ†ï¼‰
            scores.drink += parseInt(document.querySelector('input[name="drink_amount"]:checked')?.value || 0);
            scores.drink += parseInt(document.querySelector('input[name="drink_type"]:checked')?.value || 0);

            // æ‹‰ï¼ˆ15åˆ†ï¼‰
            scores.poop += parseInt(document.querySelector('input[name="poop_freq"]:checked')?.value || 0);
            scores.poop += parseInt(document.querySelector('input[name="poop_shape"]:checked')?.value || 0);
            scores.poop += parseInt(document.querySelector('input[name="poop_feel"]:checked')?.value || 0);

            // æ’’ï¼ˆ10åˆ†ï¼‰
            scores.pee += parseInt(document.querySelector('input[name="pee_night"]:checked')?.value || 0);
            scores.pee += parseInt(document.querySelector('input[name="pee_color"]:checked')?.value || 0);
            scores.pee += parseInt(document.querySelector('input[name="pee_feel"]:checked')?.value || 0);

            // ç¡ï¼ˆ30åˆ†ï¼‰
            scores.sleep += parseInt(document.querySelector('input[name="sleep_time"]:checked')?.value || 0);
            scores.sleep += parseInt(document.querySelector('input[name="sleep_duration"]:checked')?.value || 0);
            scores.sleep += parseInt(document.querySelector('input[name="sleep_quality"]:checked')?.value || 0);
            scores.sleep += parseInt(document.querySelector('input[name="sleep_wake"]:checked')?.value || 0);
            scores.sleep += parseInt(document.querySelector('input[name="sleep_noon"]:checked')?.value || 0);

            // æƒ…ï¼ˆ20åˆ†ï¼‰
            scores.mood += parseInt(document.getElementById('mood_stable').value);
            scores.mood += parseInt(document.getElementById('mood_energy').value);
            scores.mood += parseInt(document.getElementById('mood_digest').value);

            // åŠ å‡åˆ†
            let bonus = 0;
            if (document.getElementById('bonus_morning').checked) bonus += 2;
            if (document.getElementById('bonus_night').checked) bonus += 2;
            if (document.getElementById('penalty_food').checked) bonus -= 2;
            if (document.getElementById('penalty_caffeine').checked) bonus -= 1;

            let total = scores.eat + scores.drink + scores.poop + scores.pee + scores.sleep + scores.mood + bonus;
            total = Math.max(0, Math.min(100, total)); // é™åˆ¶åœ¨0-100

            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('totalScore').textContent = total;
            document.getElementById('eatScore').textContent = scores.eat;
            document.getElementById('drinkScore').textContent = scores.drink;
            document.getElementById('poopScore').textContent = scores.poop;
            document.getElementById('peeScore').textContent = scores.pee;
            document.getElementById('sleepScore').textContent = scores.sleep;
            document.getElementById('moodScore').textContent = scores.mood;

            // æ›´æ–°è¯„çº§
            let badge = '';
            if (total >= 80) {
                badge = '<span class="badge badge-excellent">ä¼˜ç§€ ğŸŒŸ</span>';
            } else if (total >= 60) {
                badge = '<span class="badge badge-good">è¾ƒç¨³ âœ“</span>';
            } else if (total >= 50) {
                badge = '<span class="badge badge-fair">ä¸€èˆ¬ âš ï¸</span>';
            } else {
                badge = '<span class="badge badge-poor">éœ€è°ƒé¢‘ âš¡</span>';
            }
            document.getElementById('scoreBadge').innerHTML = badge;

            saveData();
        }

        // è·å–æ‰€æœ‰æ•°æ®
        function collectAllData() {
            const data = {
                date: document.getElementById('recordDate').value,
                scores: {
                    eat: parseInt(document.getElementById('eatScore').textContent),
                    drink: parseInt(document.getElementById('drinkScore').textContent),
                    poop: parseInt(document.getElementById('poopScore').textContent),
                    pee: parseInt(document.getElementById('peeScore').textContent),
                    sleep: parseInt(document.getElementById('sleepScore').textContent),
                    mood: parseInt(document.getElementById('moodScore').textContent),
                    total: parseInt(document.getElementById('totalScore').textContent)
                },
                selections: {},
                notes: {
                    action: document.getElementById('note_action').value,
                    tomorrow: document.getElementById('note_tomorrow').value
                }
            };

            // æ”¶é›†æ‰€æœ‰é€‰æ‹©
            document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                data.selections[radio.name] = radio.value;
            });

            // æ”¶é›†å¤é€‰æ¡†
            data.selections.eat_bonus = document.getElementById('eat_bonus').checked;
            data.selections.bonus_morning = document.getElementById('bonus_morning').checked;
            data.selections.bonus_night = document.getElementById('bonus_night').checked;
            data.selections.penalty_food = document.getElementById('penalty_food').checked;
            data.selections.penalty_caffeine = document.getElementById('penalty_caffeine').checked;

            // æ”¶é›†æ»‘å—
            data.selections.mood_stable = document.getElementById('mood_stable').value;
            data.selections.mood_energy = document.getElementById('mood_energy').value;
            data.selections.mood_digest = document.getElementById('mood_digest').value;

            return data;
        }

        // ä¿å­˜æ•°æ®ï¼ˆè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°ï¼‰
        function saveData() {
            try {
                const data = collectAllData();
                localStorage.setItem('rhythmHealthData', JSON.stringify(data));
                console.log('âœ… æ•°æ®å·²è‡ªåŠ¨ä¿å­˜');
            } catch (err) {
                console.error('è‡ªåŠ¨ä¿å­˜å¤±è´¥ï¼š', err);
            }
        }

        // åŠ è½½æ•°æ®ï¼ˆä»æµè§ˆå™¨æœ¬åœ°æ¢å¤ï¼‰
        function loadData() {
            try {
                const saved = localStorage.getItem('rhythmHealthData');
                if (!saved) return;

                const data = JSON.parse(saved);
                
                // æ¢å¤æ—¥æœŸ
                if (data.date) {
                    document.getElementById('recordDate').value = data.date;
                }
                
                // æ¢å¤é€‰æ‹©
                if (data.selections) {
                    Object.keys(data.selections).forEach(key => {
                        if (key.includes('_bonus') || key.includes('bonus_') || key.includes('penalty_')) {
                            const elem = document.getElementById(key);
                            if (elem) elem.checked = data.selections[key];
                        } else if (key.startsWith('mood_')) {
                            const elem = document.getElementById(key);
                            if (elem) {
                                elem.value = data.selections[key];
                                updateMoodSlider(key, data.selections[key]);
                            }
                        } else {
                            const radio = document.querySelector(`input[name="${key}"][value="${data.selections[key]}"]`);
                            if (radio) {
                                radio.checked = true;
                                radio.closest('.radio-label').classList.add('selected');
                            }
                        }
                    });
                }
                
                // æ¢å¤ç¬”è®°
                if (data.notes) {
                    if (data.notes.action) document.getElementById('note_action').value = data.notes.action;
                    if (data.notes.tomorrow) document.getElementById('note_tomorrow').value = data.notes.tomorrow;
                }
                
                calculateScore();
                console.log('âœ… å·²æ¢å¤ä¸Šæ¬¡ä¿å­˜çš„æ•°æ®');
            } catch (err) {
                console.error('æ•°æ®æ¢å¤å¤±è´¥ï¼š', err);
            }
        }

        // å¯¼å‡ºæ•°æ®
        function exportData() {
            try {
                const data = collectAllData();
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `èŠ‚å¾‹å¥åº·æŒ‡æ•°_${data.date}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                alert('âœ… æ•°æ®å¯¼å‡ºæˆåŠŸï¼');
            } catch (err) {
                alert('âŒ å¯¼å‡ºå¤±è´¥ï¼š' + err.message);
            }
        }

        // å¯¼å…¥æ•°æ®
        function importData() {
            const input = document.getElementById('fileInput');
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;

                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        const data = JSON.parse(event.target.result);
                        
                        // æ¢å¤æ—¥æœŸ
                        if (data.date) document.getElementById('recordDate').value = data.date;
                        
                        // æ¢å¤é€‰æ‹©
                        if (data.selections) {
                            Object.keys(data.selections).forEach(key => {
                                if (key.includes('_bonus') || key.includes('bonus_') || key.includes('penalty_')) {
                                    const elem = document.getElementById(key);
                                    if (elem) elem.checked = data.selections[key];
                                } else if (key.startsWith('mood_')) {
                                    const elem = document.getElementById(key);
                                    if (elem) {
                                        elem.value = data.selections[key];
                                        updateMoodSlider(key, data.selections[key]);
                                    }
                                } else {
                                    const radio = document.querySelector(`input[name="${key}"][value="${data.selections[key]}"]`);
                                    if (radio) {
                                        radio.checked = true;
                                        radio.closest('.radio-label').classList.add('selected');
                                    }
                                }
                            });
                        }
                        
                        // æ¢å¤ç¬”è®°
                        if (data.notes) {
                            if (data.notes.action) document.getElementById('note_action').value = data.notes.action;
                            if (data.notes.tomorrow) document.getElementById('note_tomorrow').value = data.notes.tomorrow;
                        }
                        
                        calculateScore();
                        alert('âœ… æ•°æ®å¯¼å…¥æˆåŠŸï¼');
                    } catch (err) {
                        alert('âŒ å¯¼å…¥å¤±è´¥ï¼šæ–‡ä»¶æ ¼å¼é”™è¯¯');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // é‡ç½®æ•°æ®
        function resetData() {
            if (confirm('âš ï¸ ç¡®å®šè¦é‡ç½®æ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                document.querySelectorAll('input[type="radio"]').forEach(r => {
                    r.checked = false;
                    r.closest('.radio-label').classList.remove('selected');
                });
                document.querySelectorAll('input[type="checkbox"]').forEach(c => c.checked = false);
                document.getElementById('mood_stable').value = 5;
                document.getElementById('mood_energy').value = 2;
                document.getElementById('mood_digest').value = 2;
                updateMoodSlider('mood_stable', 5);
                updateMoodSlider('mood_energy', 2);
                updateMoodSlider('mood_digest', 2);
                document.getElementById('note_action').value = '';
                document.getElementById('note_tomorrow').value = '';
                document.getElementById('recordDate').valueAsDate = new Date();
                
                // æ¸…é™¤è‡ªåŠ¨ä¿å­˜çš„æ•°æ®
                localStorage.removeItem('rhythmHealthData');
                
                calculateScore();
                alert('âœ… æ•°æ®å·²é‡ç½®');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            loadData(); // å…ˆåŠ è½½ä¿å­˜çš„æ•°æ®
            calculateScore(); // ç„¶åè®¡ç®—åˆ†æ•°
            console.log('âœ… èŠ‚å¾‹å¥åº·æŒ‡æ•°è¯„åˆ†è¡¨å·²åŠ è½½');
        });
    </script>
</body>
</html>
